(function(){"use strict";var e={2445:function(e,n,t){var a=t(9963),r=t(6252),s=t(3577);const o={key:0,class:"view login"},u=(0,r._)("div",{class:"form-inner"},[(0,r._)("h1",null,"Login to FireChat"),(0,r._)("input",{type:"submit",value:"Sign in with Google"})],-1),i=[u],l={key:1,class:"view chat"},c={class:"chat-box"},m={class:"message-inner"},f={class:"message-inner username"},g={class:"message-inner content"},p=(0,r._)("input",{type:"submit",value:"Send"},null,-1);function v(e,n,t,u,v,d){return""===u.state.username||null===u.state.username?((0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("form",{class:"login-form",onSubmit:n[0]||(n[0]=(0,a.iM)(((...e)=>u.Login&&u.Login(...e)),["prevent"]))},i,32)])):((0,r.wg)(),(0,r.iD)("div",l,[(0,r._)("header",null,[(0,r._)("button",{class:"logout",onClick:n[1]||(n[1]=(...e)=>u.Logout&&u.Logout(...e))},"Logout"),(0,r._)("h1",null,"Welcome, "+(0,s.zw)(u.state.username),1)]),(0,r._)("section",c,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(u.state.messages,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.key,class:(0,s.C_)(e.username===u.state.username?"message current-user":"message")},[(0,r._)("div",m,[(0,r._)("div",f,(0,s.zw)(e.username),1),(0,r._)("div",g,(0,s.zw)(e.content),1)])],2)))),128))]),(0,r._)("footer",null,[(0,r._)("form",{onSubmit:n[3]||(n[3]=(0,a.iM)(((...e)=>u.SendMessage&&u.SendMessage(...e)),["prevent"]))},[(0,r.wy)((0,r._)("input",{type:"text",placeholder:"Write a message...","onUpdate:modelValue":n[2]||(n[2]=e=>u.inputMessage=e)},null,512),[[a.nr,u.inputMessage]]),p],32)])]))}t(7658);var d=t(2262),b=t(1902),h=(t(9085),t(6334),t(7702));const y={apiKey:"AIzaSyD50LXVPsz3mDrSwCrmcpy-RDsfk5NFYGs",authDomain:"firevuechat-ab4ba.firebaseapp.com",projectId:"firevuechat-ab4ba",storageBucket:"firevuechat-ab4ba.appspot.com",messagingSenderId:"419891412746",appId:"1:419891412746:web:6aea61ab8a2184330644f3"},w=b.Z.initializeApp(y),_=(0,h.v0)(w),S=new h.hJ,O=b.Z.database();var k={setup(){const e=(0,d.iH)(""),n=(0,d.iH)(""),t=(0,d.qj)({username:"",messages:[]});(0,r.bv)((()=>{localStorage.getItem("username")&&(t.username=localStorage.getItem("username"));const e=O.ref("messages");e.on("value",(e=>{const n=e.val();let a=[];Object.keys(n).forEach((e=>{a.push({id:e,username:n[e].username,content:n[e].content})})),t.messages=a}))}));const a=()=>{(0,h.rh)(_,S).then((n=>{console.log(n),n.user&&n.user.displayName&&(t.username=n.user.displayName,localStorage.setItem("username",n.user.displayName),e.value="")}))},s=()=>{t.username="",localStorage.removeItem("username")},o=()=>{const e=O.ref("messages");if(""===n.value||null===n.value)return;const a={username:t.username,content:n.value};e.push(a),n.value=""};return{inputUsername:e,inputMessage:n,state:t,Login:a,Logout:s,SendMessage:o}}},j=t(3744);const M=(0,j.Z)(k,[["render",v]]);var L=M;(0,a.ri)(L).mount("#app")}},n={};function t(a){var r=n[a];if(void 0!==r)return r.exports;var s=n[a]={exports:{}};return e[a](s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(n,a,r,s){if(!a){var o=1/0;for(c=0;c<e.length;c++){a=e[c][0],r=e[c][1],s=e[c][2];for(var u=!0,i=0;i<a.length;i++)(!1&s||o>=s)&&Object.keys(t.O).every((function(e){return t.O[e](a[i])}))?a.splice(i--,1):(u=!1,s<o&&(o=s));if(u){e.splice(c--,1);var l=r();void 0!==l&&(n=l)}}return n}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[a,r,s]}}(),function(){t.d=function(e,n){for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,a){var r,s,o=a[0],u=a[1],i=a[2],l=0;if(o.some((function(n){return 0!==e[n]}))){for(r in u)t.o(u,r)&&(t.m[r]=u[r]);if(i)var c=i(t)}for(n&&n(a);l<o.length;l++)s=o[l],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(c)},a=self["webpackChunkfirechat_vue"]=self["webpackChunkfirechat_vue"]||[];a.forEach(n.bind(null,0)),a.push=n.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(2445)}));a=t.O(a)})();
//# sourceMappingURL=app.3a42d1cc.js.map